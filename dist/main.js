!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";{const t={get_prefix:function(){const e=window.getComputedStyle(document.documentElement,"");return(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1]}};e.exports=t}},function(e,t,n){"use strict";{const t=n(2),s=new Set(["A","BUTTON"]),l={run:function(){console.log("Running tests...");const e=new Set,n=new Set;let l=[];document.addEventListener("click",e=>{"negate"==e.target.id?l.forEach(e=>{e.style.filter="none",e.style.background="none"}):"any_mode"==e.target.id?t.any_mode=e.target.checked:s.has(e.target.tagName)&&e.preventDefault()}),document.addEventListener("mouseup",s=>{if("generalize"==s.target.id){if(!c(n,e,l)){t.any_mode?t.any_mode=!1:t.any_mode=!0;if(!c(n,e,l))return console.log("Test result? false"),void a(n,e,l)}console.log("Test result? true"),a(n,e,l)}else if("clear"==s.target.id)Array.from(n).forEach(e=>{e.style.outline="none"}),Array.from(e).forEach(e=>{e.style.outline="none"}),l.forEach(e=>{e.style.filter="none",e.style.background="none"}),e.clear(),n.clear(),negate.checked=!1,found_count.innerText="n/a",r(positive_example_count),r(negative_example_count),generalized_selector.innerText="n/a";else{if(!(s.target instanceof HTMLElement)||s.target.matches("article#testcontrols, article#testcontrols *"))return;negate.checked?(n.has(s.target)&&n.delete(s.target),e.has(s.target)||(e.add(s.target),o(negative_example_count))):(e.has(s.target)&&e.delete(s.target),n.has(s.target)||(n.add(s.target),o(positive_example_count))),s.target.style&&(negate.checked?s.target.style.outline="2px solid red":s.target.style.outline="2px solid lime")}})}};function o(e){const t=parseFloat(e.innerText);e.innerText=t+1}function r(e){e.innerText=0}function a(e,t,n){Array.from(e).forEach(e=>{e.style.outline="3px dashed lime"}),Array.from(t).forEach(e=>{e.style.outline="3px dashed red"}),n.forEach(e=>{e.style.filter="sepia(1)",e.style.background="lime"})}function c(e,n,o){const r=[...e].map(e=>t.get_canonical_sel(e)),a=[...n].map(e=>t.get_canonical_sel(e)),{positive:c,negative:s}=t.generalize(r,a,!0);generalized_selector.innerText=`${c} !(${s})`||"n/a",o.forEach(e=>{e.style.filter="none",e.style.background="none"});try{o.length=0,o.push(...Array.from(document.querySelectorAll(c)))}catch(e){console.warn(" Error on query selector",e),console.warn("Note, MS Edge and IE do not support ':matches' or ':any' as of the time I wrote this code, August 16 2017")}if(s){const e=new Set(Array.from(document.querySelectorAll(s)));Array.from(o);o.length=0,o.push(...o.filter(t=>!e.has(t)))}found_count.innerText=o.length;return function(e,t,n){t=new Set(t);const o=[...e].every(e=>t.has(e)),r=[...n].every(e=>!t.has(e));return o&&r}(e,o,n)}e.exports=l,Object.assign(self,{test:l})}},function(e,t,n){"use strict";{const t=n(3),r={generalize:function(e,n,r){const a=function(e,n,r=!1){let a,c;if(r)a=e.map(e=>t.path_from_sel(e)),c=n.map(e=>t.path_from_sel(e));else{const r=e.map(e=>o(e)?e:document.querySelector(e)),s=n.map(e=>o(e)?e:document.querySelector(e));a=r.map(e=>t.get_canonical_path(e).canonical),c=s.map(e=>t.get_canonical_path(e).canonical)}const s=t.basic_multiple_lcs_from_canonical_path_list(a),l=t.basic_multiple_lcs_from_canonical_path_list(c);return{p_basic:s,n_basic:l}}(e,n,r),c=t.selector_from_canonical_path(a.p_basic||[]),s=t.selector_from_canonical_path(a.n_basic||[]);return{positive:c,negative:s}},lcs_from_sel_pair:t.lcs_from_canonical_sel_pair,get_canonical_sel:function(e){return t.selector_from_canonical_path(t.get_canonical_path(e).canonical)},sel_from_path:t.selector_from_canonical_path,set any_mode(e){t.any_mode=e}};function o(e){return e instanceof HTMLElement}e.exports=r}},function(e,t,n){"use strict";{const t=n(4),f=1e4,d=/(\.[^#\.:]+)/g,g=/#([^#\.:]+)/g,_=/^([^#\.:]+)/g,m=/:\w+\(\s*([^\)]+)\s*\)/g,p=/(:nth-of-type\([^)]*\))/g;let h,y=2;const x={any_mode:!1,get_canonical_path(e){const t=[];let n=a();for(;e&&"HTML"!=e.tagName;){if(!e.parentNode&&e.host){const n={};n["TAG:"+(e=e.host).tagName+"::shadow"]=1,t.unshift(n)}else{const r={tags:new Set,geometry:new Set,classes:new Set,ids:new Set};let a,c="";if(e.parentNode){let t=0;const n=Array.from(e.parentNode.childNodes);for(const o of n)if(o.tagName==e.tagName&&(t+=1),o===e){c=`:nth-of-type(${t})`;break}}e.id&&e.id.length>0&&r.ids.add(e.id);try{a=e.getAttribute("class")}catch(t){a=e.className}if("string"!=typeof a)try{a=Array.from(e.classList)}catch(e){a=[]}else a=a.split(/\s+/);a.forEach(e=>{e.length>0&&r.classes.add("."+o(e))}),r.tags.add(e.tagName),r.geometry.add(c),r.code=n,n+=1,t.unshift(r)}e=e.parentNode}return{canonical:t}},path_from_sel(e){const t=e.split(/\s*>\s*/g),n=[];let c=a();for(const e of t){const t={tags:new Set,geometry:new Set,classes:new Set,ids:new Set},a=new Set(r(d,e).map(e=>o(e)));let s=r(m,e)[0];s=s?new Set(s.split(/\s*,\s*/g)):new Set;const l=r(_,e)[0],i=o(r(g,e)[0]||""),u=r(p,e)[0];t.classes=a,t.tags=s,l&&(0==s.size||"*"!==l)&&t.tags.add(l),i&&t.ids.add(i),u&&t.geometry.add(u),t.code=c,c-=1,n.push(t)}return n},lcs_from_canonical_sel_pair:(e,t)=>u(x.path_from_sel(e),x.path_from_sel(t)).value,selector_from_canonical_path(e){if(h=h||n(0).get_prefix(),0==(e=Array.from(e)).length)return"";const t=[];let r=e[0];for(let t=1;t<e.length;t++){const n=e[t];1==c(r,n)&&e.splice(t,0,{">":1}),r=n}e.forEach(e=>{if(e[">"]){return void(">"!==t[t.length-1]&&t.push(">"))}const{tags:n,classes:r,ids:a,geometry:c}=e;let s="";x.any_mode&&n.size>1?s+=`:-${h}-any(${[...n].join(",")})`:s+=""+[...n].join(","),a.size&&(s+="#"+[...a].map(e=>o(e)).join("#")),r.size&&(s+=""+[...r].map(e=>o(e)).join("")),c.size&&(s+=""+[...c].join("")),s&&t.push(s)});return t.join(" ")},basic_multiple_lcs_from_canonical_path_list(e){if(0==e.length)return[];let t,n=e[0];for(let o=1;o<e.length;o+=1){t=e[o];const r=u(t,n);r&&(n=r.value)}return n}};function o(e){return Number.isInteger(parseInt(e))&&parseInt(e).toString()==e?"\\"+(e=e.split("").map(e=>e.charCodeAt(0).toString(16)).join("\\")):e.replace(/\\\\([\[\]])/,"$1").replace(/([\[\]])/g,"\\$1").replace(/\\(\d\d)/g,"\\\\$1")}function r(e,t){const n=[];let o;for(;o=e.exec(t);)n.push(o[1]);return n}function a(){return y+=f,y}function c(e,n){return t.get_code(e)-t.get_code(n)}function s(e,t){const{xcode:n,ycode:o}=e;return[n-t.xcode,o-t.ycode]}function l(e,t){const[n,o]=[...s(e,t)];return 1==n&&1==o}function i(e,t){return Math.max(...s(e,t))}function u(e,n){const o=new Float32Array(new ArrayBuffer(4*e.length*n.length));n.length;let r,c,s,u,f,d;for(r=0;r<e.length;r+=1)for(c=0;c<n.length;c+=1){const a=t.order(t.union(e[r],n[c]),x.any_mode);let l=0;a&&(l=t.order(t.intersection(e[r],n[c]),x.any_mode)/a),s=n.length*r+c,u=o[s-n.length-1]+l,f=o[s-1],d=o[s-n.length],o[s]=Math.max(f,u,d)}const g=function(e,t,n){let o=0,r=e.length-1;for(let t=0;t<e.length;t+=1)e[t]>=o&&(o=e[t],r=t);if(n.length){const e=r%n.length;return{row:(r-e)/n.length,column:e,value:o}}return{row:0,column:0,value:o}}(o,0,n);const _=function e(n,o,r,a,c){if(a<0||c<0)return[];let s;if(s=x.any_mode?t.any_intersection(o[a],r[c]):t.intersection(o[a],r[c]),t.order(s,x.any_mode)){const l=t.get_code(o[a]),i=t.get_code(r[c]);return Object.assign(s,{xcode:l,ycode:i}),e(n,o,r,a-1,c-1).concat([s])}return n[a*r.length+c-1]>n[(a-1)*r.length+c]?e(n,o,r,a,c-1):e(n,o,r,a-1,c)}(o,e,n,g.row,g.column);if(_.length){let e=a(),t=_[0];t.code=e;for(let n=1;n<_.length;n++){const o=_[n];e-=l(t,o)?1:i(t,o),o.code=e,t=o}}return _.forEach(e=>{delete e.xcode,delete e.ycode}),{value:_,score:g.value}}e.exports=x}},function(e,t,n){"use strict";{let t;const a=["tags","ids","classes","geometry"],c={tags:1,geometry:.5,ids:2,classes:.333},s={get_code:e=>e.code,get_tag_or_any(e,o){t=t||n(0).get_prefix();const r=new Set(e.split(/\s*,\s*/g));o.tags;return o.tags.size?[...r,...o.tags].join(",").trim():"*"},any_intersection:(e,t)=>a.reduce((n,a)=>(n[a]="tags"!=a?o(e[a],t[a]):r(e[a],t[a]),n),{}),intersection:(e,t)=>a.reduce((n,r)=>(n[r]=o(e[r],t[r]),n),{}),union:(e,t)=>a.reduce((n,o)=>(n[o]=r(e[o],t[o]),n),{}),order:(e,t)=>a.reduce((n,o)=>n+function(e,t,n){const o=c[e];switch(e){case"tags":return n?o/t:o*t;default:return o*t}}(o,e[o].size,t),0)};function o(e,t){return new Set([...e].filter(e=>t.has(e)))}function r(e,t){return new Set([...e,...t])}e.exports=s}}]);